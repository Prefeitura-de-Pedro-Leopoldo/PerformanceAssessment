!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&o(e)}).observe(document,{childList:!0,subtree:!0})}function o(e){if(e.ep)return;e.ep=!0;const o=function(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?o.credentials="include":"anonymous"===e.crossOrigin?o.credentials="omit":o.credentials="same-origin",o}(e);fetch(e.href,o)}}();const e={NOTA_MIN:1,NOTA_MAX:5,FAIXAS_AVALIACAO:[{limite:60,valor:5,label:"Insatisfatório"},{limite:69,valor:4,label:"Regular"},{limite:79,valor:3,label:"Satisfatório"},{limite:89,valor:2,label:"Muito bom"},{limite:100,valor:1,label:"Excelente"}],ELEMENTOS:{CONTAINER_COMPORTAMENTOS:"comportamentos-container",LOADING:"loading",FORMULARIO:"formulario-container",TOTAL_GERAL:"total-geral",PERCENTUAL:"percentual",INDICE:"indice",PRIMEIRO_INPUT:"nome"},PDF:{FILENAME:"avaliacao_desempenho(Efetivo).pdf",MARGIN:[10,10,10,10],IMAGE_QUALITY:1,SCALE:2,FORMAT:"a4",ORIENTATION:"portrait",DELAY_RENDER:500,DELAY_START:100},MENSAGENS:{ERRO_PDF:"Erro ao gerar o PDF. Por favor, tente novamente.",ERRO_CONTAINER:"Erro ao localizar o formulário. Por favor, recarregue a página.",CONFIRMA_LIMPAR:"Deseja limpar todos os campos e começar uma nova avaliação?"}},o=[{id:1,nome:"ASSIDUIDADE, PONTUALIDADE E DISCIPLINA",descricao:"refere-se ao compromisso com o cumprimento do horário de trabalho e com as normas vigentes na Prefeitura.",max_pontos:10,criterios:[{id:1,texto:"Chega ao trabalho no horário estabelecido.",peso:1},{id:2,texto:"Comunica com antecedência à chefia e à equipe as ausências necessárias durante o horário de trabalho.",peso:2},{id:3,texto:"Tem conhecimento e cumpre as normas da Prefeitura e as demandas da chefia.",peso:2}]},{id:2,nome:"PRODUTIVIDADE E EFICÁCIA",descricao:"refere-se ao rendimento do trabalho em termos de quantidade e qualidade dos resultados esperados.",max_pontos:10,criterios:[{id:1,texto:"Realiza suas atividades com exigência e rigor, estando atento aos critérios de qualidade.",peso:1},{id:2,texto:"Gerencia os recursos disponíveis para a realização de suas atividades da melhor forma possível.",peso:2},{id:3,texto:"Conclui, em tempo hábil, todas as atividades que se envolve.",peso:2}]},{id:3,nome:"ATITUDE PROATIVA E AUTONOMIA",descricao:"refere-se a propostas de soluções e sugestões para situações ou problemas, por iniciativa própria.",max_pontos:10,criterios:[{id:1,texto:"Age de forma preventiva e proativa em suas tarefas.",peso:2},{id:2,texto:"Se comunica com seu superior imediato e propõe ideias.",peso:1},{id:3,texto:"Mostra-se disponível e atende a solicitações.",peso:2}]},{id:4,nome:"APERFEIÇOAMENTO CONTÍNUO",descricao:"relaciona-se a aquisição de novos conhecimentos e sua aplicação no ambiente laboral.",max_pontos:15,criterios:[{id:1,texto:"Demonstra interesse contínuo em desenvolver suas competências.",peso:1},{id:2,texto:"Participa ativamente de capacitações e adapta-se a novas exigências.",peso:1},{id:3,texto:"Aplica novos conhecimentos adquiridos no trabalho.",peso:1}]},{id:5,nome:"CAPACIDADE DE TRABALHO EM EQUIPE",descricao:"relaciona-se com a capacidade de desenvolver as atividades em equipe.",max_pontos:10,criterios:[{id:1,texto:"Contribui ativamente para um ambiente de trabalho harmonioso.",peso:2},{id:2,texto:"Busca soluções conjuntas para desafios.",peso:1},{id:3,texto:"Atua de forma alinhada às metas coletivas.",peso:2}]},{id:6,nome:"FOCO NAS NECESSIDADES DO USUÁRIO",descricao:"Capacidade de atuar de maneira eficiente frente às necessidades do usuário.",max_pontos:10,criterios:[{id:1,texto:"Contribui para a imagem da qualidade dos serviços prestados.",peso:2},{id:2,texto:"Responde as demandas do usuário de forma tempestiva.",peso:1},{id:3,texto:"Atende a todos com cordialidade e respeito.",peso:2}]},{id:7,nome:"FLEXIBILIDADE",descricao:"Capacidade para trabalhar adaptando-se às diferentes situações.",max_pontos:10,criterios:[{id:1,texto:"Compreende a necessidade de execução de novas demandas.",peso:1},{id:2,texto:"Adapta a novos contextos com facilidade.",peso:2},{id:3,texto:"Aceita as decisões tomadas pelos gestores.",peso:2}]},{id:8,nome:"RELAÇÕES INTERPESSOAIS",descricao:"refere-se ao estabelecimento de relações cordiais e respeitosas.",max_pontos:10,criterios:[{id:1,texto:"Mantém comportamento respeitoso e cordial.",peso:1},{id:2,texto:"Demonstra maturidade ao lidar com conflitos.",peso:2},{id:3,texto:"Age de forma transparente.",peso:2}]},{id:9,nome:"COMPORTAMENTO ÉTICO",descricao:"refere-se a atitude pautada pelo respeito, integridade e senso de justiça.",max_pontos:15,criterios:[{id:1,texto:"Demonstra profissionalismo e respeita hierarquia.",peso:1},{id:2,texto:"Mantém sigilo das informações.",peso:1},{id:3,texto:"Cumpre suas funções com dedicação.",peso:1}]}];function t(e){return document.getElementById(e)}function a(e){return document.querySelectorAll(e)}function i(e,o){const a=t(e);return!!a&&(a.textContent=o,!0)}function n(){window.scrollTo(0,0)}function s(o){const t=o.criterios.map(t=>function(o,t){return`\n    <div class="criterio">\n      <span class="criterio-numero">${t}.${o.id}</span>\n      <span class="criterio-texto">${o.texto}</span>\n      <input \n        type="number" \n        class="criterio-nota" \n        id="nota_${t}_${o.id}"\n        min="${e.NOTA_MIN}" \n        max="${e.NOTA_MAX}" \n        placeholder="1-5"\n        onchange="calcularComportamento(${t})"\n        onkeyup="calcularComportamento(${t})"\n        aria-label="Nota para critério ${t}.${o.id}"\n      >\n    </div>\n  `}(t,o.id)).join("");return`\n    <div class="comportamento">\n      <div class="comportamento-header">\n        <h4>${o.id}. ${o.nome}</h4>\n        <p>${o.descricao}</p>\n      </div>\n      ${t}\n      <div class="total-comportamento">\n        <span>Total do Comportamento (Máximo: ${o.max_pontos} pontos)</span>\n        <span class="total-valor" id="total_comp_${o.id}">0.0</span>\n      </div>\n    </div>\n  `}function r(o){return o>=e.NOTA_MIN&&o<=e.NOTA_MAX}function d(){document.addEventListener("input",function(o){"number"===o.target.type&&function(o){const t=parseInt(o.value);t<e.NOTA_MIN?o.value=e.NOTA_MIN:t>e.NOTA_MAX&&(o.value=e.NOTA_MAX)}(o.target)})}function c(e,o=1){return e.toFixed(o)}function l(o){const a=t(e.ELEMENTOS.LOADING);a&&(o?a.classList.add("show"):a.classList.remove("show"))}function m(e){e.querySelectorAll("input").forEach(e=>{const o=document.createElement("span");if(o.style.display="inline-block","checkbox"===e.type)o.innerHTML=e.checked?"☑":"☐",o.style.fontSize="14pt";else if("date"===e.type)e.value?o.textContent=(t=e.value)?new Date(t+"T12:00:00").toLocaleDateString("pt-BR"):"___/___/_____":o.innerHTML="___/___/_____",o.style.borderBottom="1px solid #333",o.style.minWidth="90px",o.style.textAlign="center",o.style.paddingBottom="2px";else if("number"===e.type)o.textContent=e.value||"—",o.style.border="1px solid #999",o.style.width="40px",o.style.textAlign="center",o.style.padding="2px",o.style.fontWeight="bold";else{if(e.value)o.textContent=e.value;else{const t=e.offsetWidth||200;o.innerHTML="&nbsp;".repeat(Math.floor(t/8)),o.style.borderBottom="1px solid #333"}o.style.minWidth=(e.offsetWidth||200)+"px",o.style.paddingBottom="2px"}var t;e.parentNode.replaceChild(o,e)})}function p(e){const o=e.cloneNode(!0),t=o.querySelector(".botoes-acao");return t&&t.remove(),m(o),function(e){e.querySelectorAll("textarea").forEach(e=>{const o=document.createElement("div");o.style.border="1px solid #999",o.style.padding="8px",o.style.minHeight=(e.offsetHeight||60)+"px",o.style.whiteSpace="pre-wrap",o.style.wordBreak="break-word",o.style.fontSize="10pt",o.style.lineHeight="1.4",o.textContent=e.value||"",e.parentNode.replaceChild(o,e)})}(o),o.style.width="190mm",o.style.margin="0 auto",o.style.background="white",o.style.padding="0",o.style.boxShadow="none",o}function u(){try{!function(){const a=t(e.ELEMENTOS.CONTAINER_COMPORTAMENTOS);if(!a)return;const i=o.map(e=>s(e)).join("");a.innerHTML=i}(),d()}catch(a){alert("Erro ao carregar o sistema. Por favor, recarregue a página.")}}window.calcularComportamento=function(a){const n=o.find(e=>e.id===a);if(!n)return;let s=0,d=!0;for(const e of n.criterios){const o=t(`nota_${a}_${e.id}`);if(!o)continue;const i=parseInt(o.value);r(i)?s+=i*e.peso:d=!1}let l=0;if(d)if(4===a||9===a)l=s/15*15;else{const e=function(e){return e.criterios.reduce((e,o)=>e+o.peso,0)}(n);l=s/(5*e)*n.max_pontos}i(`total_comp_${a}`,c(l)),function(){let a=0;for(const e of o){const o=t(`total_comp_${e.id}`);if(o){a+=parseFloat(o.textContent)||0}}i(e.ELEMENTOS.TOTAL_GERAL,c(a)),i(e.ELEMENTOS.PERCENTUAL,(n=a,`${c(n)}%`));var n;const s=function(o){for(const t of e.FAIXAS_AVALIACAO)if(o<t.limite)return{valor:t.valor,label:t.label};return{valor:1,label:"Excelente"}}(a);i(e.ELEMENTOS.INDICE,`${s.valor} — ${s.label}`)}()},window.baixarPDF=function(){l(!0),setTimeout(()=>{n();const o=t(e.ELEMENTOS.FORMULARIO);if(!o)return l(!1),void alert(e.MENSAGENS.ERRO_CONTAINER);const a=p(o),i=function(e){const o=document.createElement("div");return o.style.position="fixed",o.style.top="-9999px",o.style.left="-9999px",o.style.width="210mm",o.style.height="297mm",o.style.overflow="hidden",o.style.background="white",o.style.opacity="0",o.style.pointerEvents="none",o.appendChild(e),o}(a);document.body.appendChild(i),setTimeout(()=>{html2pdf().from(a).set({margin:e.PDF.MARGIN,filename:e.PDF.FILENAME,image:{type:"jpeg",quality:e.PDF.IMAGE_QUALITY},html2canvas:{scale:e.PDF.SCALE,useCORS:!0,letterRendering:!0,logging:!1,scrollX:0,scrollY:0,windowWidth:document.documentElement.offsetWidth,windowHeight:document.documentElement.offsetHeight},jsPDF:{unit:"mm",format:e.PDF.FORMAT,orientation:e.PDF.ORIENTATION,compress:!0},pagebreak:{mode:["avoid-all","css","legacy"],avoid:[".comportamento",".secao","table",".resultado-final",".assinaturas"]}}).save().then(()=>{document.body.removeChild(i),l(!1)}).catch(o=>{document.body.removeChild(i),l(!1),alert(e.MENSAGENS.ERRO_PDF)})},e.PDF.DELAY_RENDER)},e.PDF.DELAY_START)},window.novaAvaliacao=function(){confirm(e.MENSAGENS.CONFIRMA_LIMPAR)&&(a("input").forEach(e=>{"checkbox"===e.type?e.checked=!1:e.value=""}),a("textarea").forEach(e=>{e.value=""}),o.forEach(e=>{i(`total_comp_${e.id}`,"0.0")}),i(e.ELEMENTOS.TOTAL_GERAL,"0.0"),i(e.ELEMENTOS.PERCENTUAL,"0.0%"),i(e.ELEMENTOS.INDICE,"—"),n(),function(e){const o=t(e);o&&o.focus()}(e.ELEMENTOS.PRIMEIRO_INPUT))},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",u):u();
